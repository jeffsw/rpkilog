<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>rpkilog history search tool for RPKI data</title>
    <link rel="stylesheet" href="rpkilog.css">
    <script>
        var rpkilog_config = {
            "api_url": "https://api.rpkilog.com/unstable/history"
        };
    </script>
    <script src="main.js" type="module"></script>
</head>
<body>

<p><code>rpkilog.com</code> is available for use, but please consider it a work-in-progress!  There is an
HTTP API but it should not yet be considered stable/supported.  The source is available on 
<A href="https://github.com/jeffsw/rpkilog">GitHub: jeffsw/rpkilog</A>.  Please give me a star if this
helps you.</p>

<p>Thanks to Job Snijders for making his VRP cache snapshots available.</p>

<p>This service runs on AWS.  If you work there and can help get this project sponsored, please reach out 
<A href="mailto:jeffsw6+rpkilog@gmail.com">by email</A>.
</p>

<p>Thanks!</p>

<fieldset>
    <legend>RPKI History Search</legend>
    
    <label for="prefix">Prefix</label>
    <input id="prefix" value="8.8.8.8/24" type="text" name="prefix" autofocus required minlength="4" maxlength="43" size="20">

    <label for="asn">ASN</label>
    <input id="asn" value="" type="text" name="asn" size="7">

    <label for="observation_timestamp_start">Observed Date/Time Range From</label>
    <input id="observation_timestamp_start" type="datetime-local" value="2020-01-01T00:00" min="1981-01-01T00:00" max="2038-01-01T00:00" name="observation_timestamp_start">

    <label for="observation_timestamp_end">To</label>
    <input id="observation_timestamp_end" type="datetime-local" value="2038-01-01T00:00" min="1981-01-01T00:00" max="2038-01-01T00:00" name="observation_timestamp_end">

    <button id="rpki_history_search_button" type="button">Search</button>
</fieldset>

<table id="vrp_history_table" class="vrp_history">
    <caption></caption>
    <thead>
        <tr>
            <th>prefix</th>
            <th>maxLength</th>
            <th>asn</th>
            <th>ta</th>
            <th>expires</th>
            <th>verb</th>
            <th>observation_timestamp</th>
        </tr>
    </thead>
    <tbody>
        <tr><td colspan="7">Input search parameters, above, to retrieve history records.</td></tr>
    </tbody>
</table>

<template id="vrp_history_row">
    <tr class="vrp_history">
        <td data-field-name="prefix"></td>
        <td data-field-name="maxLength"></td>
        <td data-field-name="asn"></td>
        <td data-field-name="ta"></td>
        <td data-field-name="expires"></td>
        <td data-field-name="verb"></td>
        <td data-field-name="observation_timestamp"></td>
    </tr>
</template>
</body>
</html>
